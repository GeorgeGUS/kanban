(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n,r,c,d,o,i=a(0),u=a.n(i),s=a(23),l=a(4),b=a(2),p=a(47),f=a(26),m=a(1),O=a(109),j=a(110),v=Object(j.a)("FETCH_DATA_SUCCESS"),I=Object(j.a)("TEXT_UPDATE"),E=Object(j.a)("BOARD_ADD"),h=Object(j.a)("CARD_ADD"),g=Object(j.a)("CARD_POSITION_UPDATE"),y=a(17),x=a.n(y),w=Object(O.a)((n={},Object(m.a)(n,v,function(e,t){return t.payload.boards.allIds.length+1}),Object(m.a)(n,E,function(e){return e+1}),n),1),N=Object(O.a)((r={},Object(m.a)(r,v,function(e,t){return t.payload.cards.allIds.length+1}),Object(m.a)(r,h,function(e){return e+1}),r),1),D=Object(O.a)((c={},Object(m.a)(c,I,function(e,t){var a=t.payload,n=a.id,r=a.value;return Object(f.a)({},e,Object(m.a)({},n,r))}),Object(m.a)(c,E,function(e,t){var a=t.payload.id;return Object(f.a)({},e,Object(m.a)({},a,""))}),Object(m.a)(c,h,function(e,t){var a=t.payload.boardId;return Object(f.a)({},e,Object(m.a)({},a,""))}),c),{}),_=Object(O.a)((d={},Object(m.a)(d,v,function(e,t){return t.payload.boards}),Object(m.a)(d,E,function(e,t){var a=t.payload,n=a.id,r=a.title;return x()(e,{byId:Object(m.a)({},n,{$set:{id:n,title:r,cardIds:[]}}),allIds:{$push:[n]}})}),Object(m.a)(d,h,function(e,t){var a=t.payload,n=a.id,r=a.boardId;return x()(e,{byId:Object(m.a)({},r,{cardIds:{$push:[n]}})})}),Object(m.a)(d,g,function(e,t){var a,n=t.payload,r=n.srcIdx,c=n.destIdx,d=n.srcId,o=n.destId,i=n.id;return d===o?x()(e,{byId:Object(m.a)({},d,{cardIds:{$splice:[[r,1],[c,0,i]]}})}):x()(e,{byId:(a={},Object(m.a)(a,d,{cardIds:{$splice:[[r,1]]}}),Object(m.a)(a,o,{cardIds:{$splice:[[c,0,i]]}}),a)})}),d),{}),C=Object(O.a)((o={},Object(m.a)(o,v,function(e,t){return t.payload.cards}),Object(m.a)(o,h,function(e,t){var a=t.payload,n=a.id,r=a.text;return x()(e,{byId:Object(m.a)({},n,{$set:{id:n,text:r}}),allIds:{$push:[n]}})}),o),{}),T=Object(b.c)({text:D,boards:_,cards:C,newBoardId:w,newCardId:N}),k=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.d)(Object(b.a)(p.a)),A=Object(b.e)(T,k),P=(a(64),a(7)),U=a(8),S=a(14),B=a(12),R=a(15),$=a(48),H=Object($.a)(function(e){return e},function(e){var t=e.allIds,a=void 0===t?[]:t,n=e.byId;return a.map(function(e){return n[e]})}),M=function(){function e(){Object(P.a)(this,e),this.data={boards:{byId:{1:{id:1,title:"\u041f\u043b\u0430\u043d \u043d\u0430 \u043c\u0435\u0441\u044f\u0446",cardIds:[1,2,3,4,5,6,7,8]},2:{id:2,title:"\u041f\u043b\u0430\u043d \u043d\u0430 \u0434\u0435\u043d\u044c",cardIds:[9,10,11]}},allIds:[1,2]},cards:{byId:{1:{id:1,text:"\u041f\u0440\u043e\u0439\u0442\u0438 \u043a\u0443\u0440\u0441 \u043f\u043e React"},2:{id:2,text:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"},3:{id:3,text:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043a\u0443\u0440\u0441\u044b \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0433\u043e \u044f\u0437\u044b\u043a\u0430, \u0447\u0442\u043e\u0431\u044b \u0443\u0435\u0445\u0430\u0442\u044c \u0432 \u041b\u043e\u043d\u0434\u043e\u043d"},4:{id:4,text:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0431\u0435\u043a\u0435\u043d\u0434 \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u043d\u0430 node.js"},5:{id:5,text:"\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"},6:{id:6,text:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0435\u0440\u0432\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e \u0432 \u0431\u043b\u043e\u0433"},7:{id:7,text:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u0432 \u043c\u043e\u0442\u043e\u0448\u043a\u043e\u043b\u0443. \u0425\u043e\u0442\u044f \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0441\u0442\u0440\u0430\u0448\u043d\u043e\u0432\u0430\u0442\u043e, \u043a\u043e\u043d\u0435\u0447\u043d\u043e. \u0414\u0440\u0443\u0437\u044c\u044f \u0438 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u043e\u0442\u0438\u0432, \u043d\u043e \u043e\u0447\u0435\u043d\u044c \u0445\u043e\u0447\u0435\u0442\u0441\u044f. \u041d\u043e \u043a\u043e\u0433\u043e \u044f \u043e\u0431\u043c\u0430\u043d\u044b\u0432\u0430\u044e, \u0443\u0436\u0435 2 \u0433\u043e\u0434\u0430 \u0440\u0435\u0448\u0430\u044e\u0441\u044c \u043d\u0430 \u044d\u0442\u043e\u0442 \u0448\u0430\u0433 \ud83d\ude22 \u0415\u0449\u0435 \u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u0431\u0443\u0434\u0443\u0442 \u0445\u0440\u0443\u0441\u0442\u0438\u043a\u043e\u043c \u043d\u0430\u0437\u044b\u0432\u0430\u0442\u044c. \u0412 \u043e\u0431\u0449\u0435\u043c, \u0445\u043e\u0442\u044f \u0431\u044b \u043f\u043e\u0434\u0443\u043c\u0430\u0442\u044c \u043d\u0430\u0434 \u044d\u0442\u0438\u043c."},8:{id:8,text:"\u041d\u0435\u0442, \u044f \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u044b\u0439 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u0438\u0434\u0443 \u0432 \u043c\u043e\u0442\u043e\u0448\u043a\u043e\u043b\u0443. \u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0441\u044c!"},9:{id:9,text:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043a\u0443\u0440\u0441 \u043f\u043e React"},10:{id:10,text:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0438\u0440 \u043d\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0443"},11:{id:11,text:"\u041d\u0430\u043a\u0438\u0434\u0430\u0442\u044c \u0442\u0435\u043c \u0434\u043b\u044f \u0441\u0442\u0430\u0442\u0435\u0439 \u0432 \u0431\u043b\u043e\u0433"}},allIds:[1,2,3,4,5,6,7,8,9,10,11]}}}return Object(U.a)(e,[{key:"getData",value:function(){var e=this;return new Promise(function(t){return t(e.data)})}}]),e}(),L=function(e){return function(t){return function(a){function n(){var t,a;Object(P.a)(this,n);for(var r=arguments.length,c=new Array(r),d=0;d<r;d++)c[d]=arguments[d];return(a=Object(S.a)(this,(t=Object(B.a)(n)).call.apply(t,[this].concat(c)))).onEscPress=function(t){27===t.keyCode&&e(t)},a}return Object(R.a)(n,a),Object(U.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onEscPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onEscPress)}},{key:"render",value:function(){return u.a.createElement(t,this.props)}}]),n}(i.Component)}},X=a(13),F=function(e){return function(t){return u.a.createElement(X.a,{onDragEnd:function(e){var a=e.source,n=e.destination,r=e.draggableId;if(n){var c=a.index,d=a.droppableId,o=n.index,i=n.droppableId;c===o&&d===i||(0,t.onDragEnd)({srcIdx:c,destIdx:o,srcId:d,destId:i,id:r})}}},u.a.createElement(e,t))}},J=(a(99),function(e){var t=e.children,a=e.boardId;return u.a.createElement("section",{className:"board"},u.a.Children.map(t,function(e){return u.a.cloneElement(e,{boardId:a})}))}),W=(a(100),function(e){var t=e.title;return u.a.createElement("h2",{className:"board__title",title:t},t)}),q=function(e){var t=e.className,a=e.children,n=e.id;return u.a.createElement(X.c,{droppableId:n},function(e){var n=e.innerRef,r=e.droppableProps,c=e.placeholder;return u.a.createElement("ul",Object.assign({className:t,ref:n},r),a,c)})},K=function(e){var t=e.className,a=e.children,n=e.id,r=e.index;return u.a.createElement(X.b,{draggableId:n,index:r},function(e,n){var r=e.innerRef,c=e.draggableProps,d=e.dragHandleProps,o=n.isDragging;return u.a.createElement("li",Object.assign({className:t,ref:r},c,d),u.a.Children.map(a,function(e){return u.a.cloneElement(e,{isDragging:o})}))})},V=(a(101),function(e){var t=e.text,a=e.isDragging;return u.a.createElement("p",{className:"card".concat(a?" card--dragging":"")},t)}),z=(a(102),Object(l.b)(function(e){return{cards:e.cards.byId}})(function(e){var t=e.boardId,a=e.cards,n=e.cardIds;return u.a.createElement(q,{className:"card-list",id:t},n.map(function(e,t){var n=a[e],r=n.id,c=n.text;return u.a.createElement(K,{className:"card-list__item",index:t,key:r,id:r},u.a.createElement(V,{text:c}))}))})),G=a(53),Q=a(52),Y=(a(103),function(e){var t=e.InputTag,a=e.phTarget,n=e.value,r=e.onTextUpdate,c=e.onSubmit;return u.a.createElement(t,{type:"text",className:"form__".concat(t),value:n,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 ".concat(a),onChange:function(e){r(e),function(e){var t=e.target;t.style.height="auto",t.style.height=t.scrollHeight+"px",t.scrollTop=t.scrollHeight}(e)},onKeyDown:function(e){13===e.keyCode&&c(e)},required:!0,autoFocus:!0})}),Z=(a(104),function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(S.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).onTextUpdate=function(e){var t=e.target.value,n=a.props,r=n.updateText,c=n.boardId;""!==t.trim()?r({id:c,value:t}):r({id:c,value:""})},a.onUnitAdd=function(e){e.preventDefault();var t=a.props,n=t.text,r=t.boardId,c=n[r];if(""!==c){var d=a.props,o=d.type,i=d.newCardId,u=d.addBoard,s=d.addCard;switch(o){case"board":u({id:r,title:c});break;case"card":s({id:i,boardId:r,text:c});break;default:console.error("Unknown action type:",o)}}},a}return Object(R.a)(t,e),Object(U.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.boardId;(0,e.updateText)({id:t,value:""})}},{key:"render",value:function(){var e=this.props,t=e.target,a=e.text,n=e.boardId,r=e.setEditable,c=Object(Q.a)(e,["target","text","boardId","setEditable"]);return u.a.createElement("form",{id:n,className:"form",onSubmit:this.onUnitAdd},u.a.createElement("div",{className:"form__row"},u.a.createElement(Y,Object.assign({},c,{value:a[n]||"",onTextUpdate:this.onTextUpdate,onSubmit:this.onUnitAdd}))),u.a.createElement("div",{className:"form__actions"},u.a.createElement("button",{type:"submit",className:"btn btn-success"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ",t),u.a.createElement("button",{type:"button",className:"btn btn-ghost",onClick:r},u.a.createElement("span",{className:"icon icon-cross"}),u.a.createElement("span",{className:"visually-hidden"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))))}}]),t}(i.Component)),ee={addBoard:E,addCard:h,updateText:I},te=Object(l.b)(function(e){return{text:e.text,newCardId:e.newCardId}},ee)(Z),ae=(a(105),function(e){var t=e.target,a=e.setEditable;return u.a.createElement("button",{type:"button",className:"btn btn-ghost w-100",onClick:a},u.a.createElement("span",{className:"icon icon-plus mr-8"}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 ",t)}),ne=function(e){var t=u.a.useState(!1),a=Object(G.a)(t,2),n=a[0],r=a[1],c=e.boardId,d=function(e){return function(){return r(e)}},o=L(function(e){var t=e.target.form;(t?Number(t.id):c)===c&&r(!1)})(te),i=n?u.a.createElement(o,Object.assign({},e,{setEditable:d(!1)})):u.a.createElement(ae,{target:e.target,setEditable:d(!0)});return u.a.createElement("div",{className:"board__actions"},i)},re=function(e){return e.boards.map(function(e){var t=e.id,a=e.title,n=e.cardIds;return u.a.createElement(J,{key:t,boardId:t},u.a.createElement(W,{title:a}),u.a.createElement(z,{cardIds:n}),u.a.createElement(ne,{type:"card",target:"\u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",phTarget:"\u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",InputTag:"textarea"}))})},ce=function(e){var t=e.id;return u.a.createElement(J,{boardId:t},u.a.createElement(ne,{type:"board",target:"\u043a\u043e\u043b\u043e\u043d\u043a\u0443",phTarget:"\u043a\u043e\u043b\u043e\u043d\u043a\u0438",InputTag:"input"}))},de=(a(106),new M),oe=F(re),ie=function(e){function t(){return Object(P.a)(this,t),Object(S.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchData()}},{key:"render",value:function(){var e=this.props,t=e.boards,a=e.newBoardId,n=e.updateCardPosition;return u.a.createElement("div",{className:"boards"},u.a.createElement(oe,{boards:t,onDragEnd:n}),u.a.createElement(ce,{id:a}))}}]),t}(i.Component),ue=Object(l.b)(function(e){var t=e.boards,a=e.newBoardId;return{boards:H(t),newBoardId:a}},function(e){return Object(b.b)({fetchData:(t=de,function(){return function(e){t.getData().then(function(t){return e(v(t))})}}),updateCardPosition:g},e);var t})(ie),se=(a(107),function(){return u.a.createElement("div",{className:"app"},u.a.createElement("h1",{className:"visually-hidden"},"\u041a\u0430\u043d\u0431\u0430\u043d \u0434\u043e\u0441\u043a\u0430"),u.a.createElement(ue,null))}),le=u.a.createElement(l.a,{store:A},u.a.createElement(se,null));Object(s.render)(le,document.getElementById("root"))},55:function(e,t,a){e.exports=a(108)},64:function(e,t,a){},99:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.dfadd206.chunk.js.map